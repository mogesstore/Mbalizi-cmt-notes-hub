<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CMT Notes Hub - Study Plan</title>
<style>
* {margin:0; padding:0; box-sizing:border-box; font-family:Arial,sans-serif;}
body {background:#f0f4f8; color:#333;}

/* Header */
header {
    background: linear-gradient(90deg,#004080,#007acc);
    padding:18px 30px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    flex-wrap:wrap;
}
header .logo {color:white; font-size:1.8rem; font-weight:bold;}
nav ul {display:flex; list-style:none; gap:20px;}
nav ul li a {color:white; text-decoration:none; font-weight:600; padding:6px 10px; border-radius:6px;}
nav ul li a:hover{background: rgba(255,255,255,0.2);}

/* Filter */
.filter-bar {
    display:flex;
    justify-content:center;
    gap:15px;
    flex-wrap:wrap;
    margin:20px;
    align-items:center;
}
.filter-bar button {
    padding:10px 20px;
    border:none;
    border-radius:8px;
    cursor:pointer;
    background:#009933;
    color:white;
    font-weight:600;
    transition:0.3s;
}
.filter-bar button.active {background:#004d99;}
.filter-bar button:hover {opacity:0.85; transform:scale(1.05);}

/* Level Filter */
.level-filter {
    display:flex;
    justify-content:center;
    gap:10px;
    margin-bottom:20px;
}
.level-filter button {
    padding:8px 16px;
    border:none;
    border-radius:6px;
    cursor:pointer;
    background:#007acc;
    color:white;
    font-weight:600;
    transition:0.3s;
}
.level-filter button.active {background:#004080;}
.level-filter button:hover {opacity:0.85; transform:scale(1.05);}

/* Study Plan Grid */
.plan-grid {
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
    gap:20px;
    padding:0 20px 40px 20px;
}
.plan-card {
    background:white;
    border-radius:12px;
    padding:20px;
    box-shadow:0 4px 12px rgba(0,0,0,0.1);
    display:flex;
    flex-direction:column;
    justify-content:space-between;
    transition:0.3s;
}
.plan-card:hover {transform:translateY(-5px); box-shadow:0 6px 16px rgba(0,0,0,0.15);}
.plan-card h3 {color:#007acc; margin-bottom:10px; font-size:1.2rem;}
.plan-card p {font-size:1rem; line-height:1.5; margin-bottom:12px;}

/* Footer */
footer {
    width:100%;
    padding:30px 20px;
    text-align:center;
    color:white;
    font-size:1.1rem;
    font-weight:bold;
    background:url('https://images.pexels.com/photos/256494/pexels-photo-256494.jpeg?auto=compress&cs=tinysrgb&w=1600') center/cover no-repeat;
    background-size:cover;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
}
footer a {color:#00ffcc; text-decoration:none; margin:10px;}
footer a:hover{text-decoration:underline;}
footer .copyright{margin-top:10px; font-size:1rem;}

/* Responsive */
@media(max-width:768px){
    .filter-bar, .level-filter{flex-direction:column; align-items:center;}
    nav ul{flex-direction:column; gap:10px; margin-top:10px;}
}
</style>
</head>
<body>

<header>
    <div class="logo">Mbalizi CMT Notes Hub</div>
    <nav>
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="notes.html">Notes</a></li>
            <li><a href="studyplan.html">Study Plan</a></li>
            <li><a href="about.html">About</a></li>
        </ul>
    </nav>
</header>

<div class="filter-bar">
    <button class="active" onclick="filterType('all')">All</button>
    <button onclick="filterType('daily')">Daily</button>
    <button onclick="filterType('weekly')">Weekly</button>
    <button onclick="filterType('monthly')">Monthly</button>
</div>

<div class="level-filter" id="levelFilter"></div>

<div class="plan-grid" id="planGrid"></div>

<footer>
    <div>
        <a href="#">Privacy Policy</a>
        <a href="#">Terms & Conditions</a>
    </div>
    <div class="copyright">Â© 2025 Mbalizi CMT Notes Hub</div>
</footer>

<script>
let planData = [];
let currentType = 'all';
let currentLevel = 'all';

async function loadPlans(){
    const response = await fetch('Studyplan.json');
    planData = await response.json();
    renderLevelFilter();
    renderPlans();
}

const planGrid = document.getElementById('planGrid');
const levelFilterDiv = document.getElementById('levelFilter');

// Render Level Filter based on current type
function renderLevelFilter(){
    levelFilterDiv.innerHTML = '';
    const levels = [...new Set(planData.filter(p => currentType==='all' || p.type===currentType).map(p=>p.level))];
    const allBtn = document.createElement('button');
    allBtn.textContent = 'All Levels';
    allBtn.classList.add(currentLevel==='all'?'active':'');
    allBtn.onclick = () => {currentLevel='all'; updateFilters();};
    levelFilterDiv.appendChild(allBtn);

    levels.forEach(lvl => {
        const btn = document.createElement('button');
        btn.textContent = 'Level ' + lvl;
        if(currentLevel===lvl) btn.classList.add('active');
        btn.onclick = () => {currentLevel=lvl; updateFilters();};
        levelFilterDiv.appendChild(btn);
    });
}

function updateFilters(){
    document.querySelectorAll('.level-filter button').forEach(btn => btn.classList.remove('active'));
    if(currentLevel==='all'){
        levelFilterDiv.querySelector('button').classList.add('active');
    } else {
        Array.from(levelFilterDiv.querySelectorAll('button')).forEach(btn=>{
            if(btn.textContent === 'Level ' + currentLevel) btn.classList.add('active');
        });
    }
    renderPlans();
}

function renderPlans(){
    planGrid.innerHTML = '';
    const filtered = planData.filter(p => 
        (currentType==='all' || p.type===currentType) &&
        (currentLevel==='all' || p.level===currentLevel)
    );
    filtered.forEach(plan => {
        const card = document.createElement('div');
        card.classList.add('plan-card');
        card.innerHTML = `
            <h3>Level ${plan.level} - ${plan.title}</h3>
            <p><strong>Type:</strong> ${plan.type.charAt(0).toUpperCase() + plan.type.slice(1)}</p>
            <p>${plan.description}</p>
        `;
        planGrid.appendChild(card);
    });
}

// Filter by type
function filterType(type){
    document.querySelectorAll('.filter-bar button').forEach(btn => btn.classList.remove('active'));
    event.target.classList.add('active');
    currentType = type;
    currentLevel = 'all';
    renderLevelFilter();
    renderPlans();
}

// Initial load
loadPlans();
</script>

</body>
</html>
